<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zine Anthology</title>
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/anthology.css" />
</head>
<body>
  <header class="site-header">
    <div class="header-content">
      <a href="../index.html" class="logo">Anthony Faustin</a>

      <button class="menu-toggle" id="menuToggle" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>

      <nav id="nav" aria-label="Primary">
        <ul>
          <li><a href="../index.html#work">Work</a></li>
          <li><a href="../index.html#about">About</a></li>
          <li><a href="../playground/playground.html">Playground</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Backdrop for mobile nav -->
  <div id="navBackdrop" class="nav-backdrop" aria-hidden="true"></div>
  <div class="project-nav-dropdown-wrapper" aria-label="Project switcher">
    <button id="dropdown-toggle" class="dropdown-toggle" aria-expanded="false" aria-controls="project-menu" title="Show other projects">v</button>
    <div id="project-menu" class="project-menu" role="menu" aria-label="Other projects">
      <a href="themup.html" class="project-menu-item" role="menuitem" aria-label="Open The Mup">
        <img src="../img/themup.gif" alt="The Mup" class="project-menu-thumb" />
      </a>
      <a href="ripdjscrew.html" class="project-menu-item" role="menuitem" aria-label="Open RIP DJ Screw">
        <img src="../img/djscrew_purple_thumb.jpg" alt="DJ Screw" class="project-menu-thumb" />
      </a>
      <a href="thefog.html" class="project-menu-item" role="menuitem" aria-label="Open The Fog">
        <img src="../img/thefog.gif" alt="The Fog" class="project-menu-thumb" />
      </a>
      <a href="1948.html" class="project-menu-item portrait" role="menuitem" aria-label="Open 1948 (portrait)">
        <img src="../img/1948_thumb.jpg" alt="1948" class="project-menu-thumb" />
      </a>
      <a href="bembo.html" class="project-menu-item portrait" role="menuitem" aria-label="Open Bembo (portrait)">
        <img src="../img/bembo_thumb.png" alt="Bembo Project" class="project-menu-thumb" />
      </a>
      
      <a href="anthology.html" class="project-menu-item current" role="menuitem" aria-current="page" aria-label="Current project: Zine Anthology">
        <img src="../img/anthology_cover_thumb.jpg" alt="Zine Anthology" class="project-menu-thumb" />
      </a>
    </div>
  </div>

  <main class="project-page" id="main">
    <h1 class="page-title">Zine Anthology</h1>

    <section class="zine-wrapper" aria-labelledby="zineTitle">
      <h2 id="zineTitle" class="sr-only">Zine Reader</h2>

      <div class="zine-reader">
        <img src="../img/anthology_cover_thumb.jpg" alt="Zine Page" class="zine-page-image zine-cover-image" id="zineImage" tabindex="0" />
      </div>

      <div class="zine-controls" aria-label="Zine pagination controls">
        <button id="prevBtn" class="zine-btn" aria-label="Previous page">&lt; Prev</button>
        <span id="pageCounter" aria-live="polite">Page 1 of 9</span>
        <button id="nextBtn" class="zine-btn" aria-label="Next page">Next &gt;</button>
      </div>
    </section>

    <section class="project-description-section" aria-labelledby="descTitle">
      <h2 id="descTitle">Project Description</h2>
      <p>Design Anthology is a zine I created that showcases some of my favorite design projects created during my time as a design student. Inspired by my growing passion for print, this zine serves as both a curated portfolio piece and a personal design manifesto. The zine features three selected projects—The Fog, 1948, and The Mup—each representing a different aspect of my design practice, from UX/UI to typography and editorial layout. In addition to project highlights, Design Anthology includes a vision board of my inspirations, a curated playlist reflecting my love for music, and a biography spread that introduces my background, skills, and creative philosophy.</p>

      <h3 class="my-role">My Role</h3>
      <p>Zine Designer, Content Curator, Editor</p>

      <h3>Skills + Tools</h3>
      <p>Adobe InDesign, Adobe Photoshop, Layout Design, Typography, Composition</p>
    </section>
  </main>

  <!-- Fullscreen overlay -->
  <div class="overlay" id="imageOverlay" aria-hidden="true" role="dialog" aria-label="Image viewer">
    <img src="" alt="" class="overlay-image" id="overlayImage" />
  </div>

  <script>
    const menuToggle   = document.getElementById('menuToggle');
    const nav          = document.getElementById('nav');
    const navLinks     = nav?.querySelectorAll('a') || [];
    const navBackdrop  = document.getElementById('navBackdrop');
    const projectMenu  = document.getElementById('project-menu');

    function openNav(){
      nav.classList.add('active');
      document.body.classList.add('nav-open');
      if (projectMenu){ projectMenu.classList.remove('active'); }
    }
    function closeNav(){
      nav.classList.remove('active');
      document.body.classList.remove('nav-open');
    }
    function toggleNav(){
      nav.classList.contains('active') ? closeNav() : openNav();
    }
    menuToggle?.addEventListener('click', toggleNav);
    navBackdrop?.addEventListener('click', closeNav);
    navLinks.forEach(link => link.addEventListener('click', closeNav));
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeNav(); });

    const dropdownToggle = document.getElementById('dropdown-toggle');

    function closeDropdown(){
      projectMenu.classList.remove('active');
      dropdownToggle.textContent = 'v';
      dropdownToggle.setAttribute('aria-expanded', 'false');
    }

    dropdownToggle.addEventListener('click', (e) => {
      const active = projectMenu.classList.toggle('active');
      dropdownToggle.textContent = active ? 'ʌ' : 'v';
      dropdownToggle.setAttribute('aria-expanded', String(active));
      e.stopPropagation();
    });

    document.addEventListener('click', (event) => {
      if (!event.target.closest('.project-nav-dropdown-wrapper')) closeDropdown();
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') closeDropdown();
    });

    // Defensive mark of current link
    const here = location.pathname.split('/').pop();
    document.querySelectorAll('#project-menu a.project-menu-item')
      .forEach(a => a.classList.toggle('current', a.getAttribute('href') === here));

    // ===== Zine pager + overlay =====
    const zineImage   = document.getElementById('zineImage');
    const prevBtn     = document.getElementById('prevBtn');
    const nextBtn     = document.getElementById('nextBtn');
    const pageCounter = document.getElementById('pageCounter');

    const imageOverlay = document.getElementById('imageOverlay');
    const overlayImage = document.getElementById('overlayImage');

    const pages = [
      '../img/anthology_cover_thumb.jpg',
      '../img/anthology_spread1_thumb.jpg',
      '../img/anthology_spread2_thumb.jpg',
      '../img/anthology_spread3_thumb.jpg',
      '../img/anthology_spread4_thumb.jpg',
      '../img/anthology_spread5_thumb.jpg',
      '../img/anthology_spread6_thumb.jpg',
      '../img/anthology_spread7_thumb.jpg',
      '../img/anthology_backcover_thumb.jpg'
    ];
    let currentPage = 0;

    function updateZine() {
      zineImage.src = pages[currentPage];
      pageCounter.textContent = `Page ${currentPage + 1} of ${pages.length}`;
      prevBtn.disabled = currentPage === 0;
      nextBtn.disabled = currentPage === pages.length - 1;

      if (currentPage === 0 || currentPage === pages.length - 1) {
        zineImage.classList.add('zine-cover-image');
      } else {
        zineImage.classList.remove('zine-cover-image');
      }
    }

    prevBtn.addEventListener('click', () => {
      if (currentPage > 0) { currentPage--; updateZine(); }
    });
    nextBtn.addEventListener('click', () => {
      if (currentPage < pages.length - 1) { currentPage++; updateZine(); }
    });

    zineImage.addEventListener('click', () => {
      overlayImage.src = zineImage.src;
      imageOverlay.classList.add('active');
      imageOverlay.setAttribute('aria-hidden','false');
    });
    imageOverlay.addEventListener('click', () => {
      imageOverlay.classList.remove('active');
      imageOverlay.setAttribute('aria-hidden','true');
      overlayImage.src = '';
    });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') {
      imageOverlay.classList.remove('active');
      imageOverlay.setAttribute('aria-hidden','true');
      overlayImage.src = '';
    }});

    // Close nav if resized above mobile breakpoint
    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        if (window.innerWidth > 768) closeNav();
      }, 150);
    });

    // Initial load
    updateZine();
  </script>
</body>
</html>
